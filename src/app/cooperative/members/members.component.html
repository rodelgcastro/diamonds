<mat-card>
  <mat-toolbar>
    <button mat-icon-button matTooltip="New" matTooltipPosition="above"
      (click)="openForm()">
      <mat-icon >person_add</mat-icon>
    </button>
    <span fxFlex></span>
    <mat-form-field class="search-form">
      <input matInput (keyup)="search($event.target.value)">
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
  </mat-toolbar>

  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="members">

      <ng-container matColumnDef="memberId">
        <th mat-header-cell *matHeaderCellDef> Member ID </th>
        <td mat-cell *matCellDef="let member"> {{member.memberId}} </td>
      </ng-container>

      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef> Given Name </th>
        <td mat-cell *matCellDef="let member"> {{member.firstName}} </td>
      </ng-container>

      <ng-container matColumnDef="middleName">
        <th mat-header-cell *matHeaderCellDef> Middle Name </th>
        <td mat-cell *matCellDef="let member"> {{member.middleName}} </td>
      </ng-container>

      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef> Last Name </th>
        <td mat-cell *matCellDef="let member"> {{member.lastName}} </td>
      </ng-container>

      <ng-container matColumnDef="birthdate">
        <th mat-header-cell *matHeaderCellDef> Birthday </th>
        <td mat-cell *matCellDef="let member"> {{member.birthdate}} </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let member">
          <button mat-icon-button matTooltip="Delete" matTooltipPosition="above" (click)="delete(member.id)">
            <mat-icon>delete</mat-icon>
          </button>
          <button mat-icon-button matTooltip="Edit" matTooltipPosition="above" (click)="edit(member.id)">
            <mat-icon>edit</mat-icon>
          </button>
        </td>
      </ng-container>

      <ng-container matColumnDef="mobile">
        <th mat-header-cell *matHeaderCellDef> Members </th>
        <td mat-cell *matCellDef="let member" class="mobile-cell">
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-description>
                {{member.firstName}} {{member.lastName}}
              </mat-panel-description>
            </mat-expansion-panel-header>
            <table class="table table-sm table-striped">
              <tbody>
                <tr>
                  <th scope="row">Member No.</th>
                  <td>{{member.memberId}}</td>
                </tr>
                <tr>
                  <th scope="row">First Name</th>
                  <td>{{member.firstName}}</td>
                </tr>
                <tr>
                  <th scope="row">Middle Name</th>
                  <td>{{member.middleName}}</td>
                </tr>
                <tr>
                  <th scope="row">Last Name</th>
                  <td>{{member.lastName}}</td>
                </tr>
                <tr>
                  <th scope="row">Birthday</th>
                  <td>{{member.birthdate}}</td>
                </tr>
              </tbody>
            </table>
            <mat-card-actions>
              <button mat-icon-button (click)="delete(member.id)">
                <mat-icon>delete</mat-icon>
              </button>
              <button mat-icon-button (click)="edit(member.id)">
                <mat-icon>edit</mat-icon>
              </button>
            </mat-card-actions>
          </mat-expansion-panel>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="mobileQuery.matches ? mobileColumns : webColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: mobileQuery.matches ? mobileColumns : webColumns;"></tr>
    </table>

    <mat-paginator [pageSize]="10" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </div>
</mat-card>